import"./style.css";import*as THREE from"three";import*as dat from"lil-gui";import gsap from"gsap";window.onload=()=>{if(window.innerWidth>=600){const e={materialColor:"#ffeded"},t=document.querySelector("canvas.webgl"),n=new THREE.Scene,o=new THREE.TextureLoader,i=o.load("/images/singlestar.png"),s=new THREE.MeshToonMaterial({color:e.materialColor}),a=4,r=new THREE.Mesh(new THREE.TorusBufferGeometry(.15,.1,20,100),s),d=new THREE.Mesh(new THREE.ConeBufferGeometry(.25,.5,32),s),l=new THREE.Mesh(new THREE.BoxBufferGeometry(.35,.35,.35,16),s);window.innerWidth>=1200?(r.position.x=-2.2,d.position.x=2.2,l.position.x=-2.2,r.position.y=.3*a,d.position.y=.7*-a,l.position.y=1.7*-a):(r.position.x=0,d.position.x=1.2,l.position.x=-1.2,r.position.y=.7*-a,d.position.y=.7*-a,l.position.y=.7*-a),n.add(r,d,l);const c=[r,d,l],m=new THREE.DirectionalLight("#ffffff",1);m.position.set(1,1,0),n.add(m);const u=500,y=new Float32Array(3*u);for(let e=0;e<u;e++)y[3*e+0]=10*(Math.random()-.5),y[3*e+1]=.5*a-Math.random()*a*c.length,y[3*e+2]=10*(Math.random()-.5);const h=new THREE.BufferGeometry;h.setAttribute("position",new THREE.BufferAttribute(y,3));const w=new THREE.PointsMaterial({color:e.materialColor,map:i,sizeAttenuation:o,size:.1,transparent:!0}),E=new THREE.Points(h,w);n.add(E);const f=new THREE.BufferGeometry,g=500,p=new Float32Array(3*g);for(let e=0;e<3*g;e++)p[e]=5*(Math.random()-.5);f.setAttribute("position",new THREE.BufferAttribute(p,3));const T=f.attributes.position.array,v=new THREE.PointsMaterial({size:.013,sizeAttenuation:!0,transparent:!0,color:new THREE.Color(16777215),depthTest:!1,depthWrite:!1}),x=new THREE.Points(f,v);x.position.y=-a,n.add(x);const H={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",(()=>{H.width=window.innerWidth,H.height=window.innerHeight,B.aspect=H.width/H.height,B.updateProjectionMatrix(),b.setSize(H.width,H.height),b.setPixelRatio(Math.min(window.devicePixelRatio,2))}));const R=new THREE.Group;n.add(R);const B=new THREE.PerspectiveCamera(35,H.width/H.height,.1,100);B.position.z=6,R.add(B);const b=new THREE.WebGLRenderer({canvas:t,alpha:!0});b.setSize(H.width,H.height),b.setPixelRatio(Math.min(window.devicePixelRatio,2));let L=window.scrollY,M=0;window.addEventListener("scroll",(()=>{L=window.scrollY;const e=Math.round(L/H.height);e!=M&&(M=e,gsap.to(c[M].rotation,{duration:1.5,ease:"power2.inOut",x:"+=6",y:"+=3",z:"+=1.5"}))}));const k={x:0,y:0};window.addEventListener("mousemove",(e=>{k.x=e.clientX/H.width-.5,k.y=e.clientY/H.height-.5}));const I=new THREE.Clock;let C=0;const P=()=>{const e=I.getElapsedTime(),t=e-C;C=e,B.position.y=-L/H.height*a;const o=.5*k.x,i=.5*-k.y;R.position.x+=5*(o-R.position.x)*t,R.position.y+=5*(i-R.position.y)*t;for(const e of c)e.rotation.x+=.1*t,e.rotation.y+=.12*t;for(let e=1;e<=3*g;e+=3)T[e]=T[e]-.03,T[e]<-2&&(T[e]=2.5);f.attributes.position.needsUpdate=!0,b.render(n,B),window.requestAnimationFrame(P)};P()}if(window.innerHeight<=700){const e=document.getElementsByClassName("hero-img"),t=(window.innerHeight+150)/1e3;for(let n=0;n<2;n++)e[n].style.height=e[1].clientHeight*t+"px",e[n].style.width=e[1].clientWidth*t+"px"}const e=["January","February","March","April","May","June","Juli","August","September","October","November","December"],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];!function n(){const o=new Date;let i=o.getMinutes();i<10&&(i="0"+i);let s=o.getHours();s<10&&(s="0"+s);const a=s+":"+i,r=o.getMonth(),d=o.getDay();let l=o.getDate();l<10&&(l="0"+l),document.getElementById("time").textContent=a,document.getElementById("date").textContent=t[d]+", "+l+". "+e[r],setTimeout(n,1e3)}();const n=document.getElementById("img-1");document.addEventListener("scroll",(()=>{!function(){if(window.innerWidth<600){let e=-.25*window.scrollY;n.style.transform="translateY("+e+"px)"}}(),function(){const e=document.getElementById("navbar");document.getElementsByTagName("body")[0],scrollY>window.innerHeight?e.style.display="inline":e.style.display="none"}()}));const o=document.getElementById("img-2"),i=document.getElementById("work-button"),s=document.getElementById("resume-button"),a=document.getElementById("contact-me"),r=document.getElementById("contact-button");window.innerWidth>992&&(n.addEventListener("mouseover",(()=>{i.classList.add("shake")})),n.addEventListener("mouseout",(()=>{i.classList.remove("shake")})),o.addEventListener("mouseover",(()=>{s.classList.add("shake")})),o.addEventListener("mouseout",(()=>{s.classList.remove("shake")})),a.addEventListener("mouseover",(()=>{r.classList.add("shake")})),a.addEventListener("mouseout",(()=>{r.classList.remove("shake")})));const d=document.getElementsByClassName("card-container"),l=document.getElementsByClassName("card-inner");for(let e=0;e<d.length;e++)d[e].addEventListener("mouseover",(t=>{d[e].onmouseenter=function(e){s(e)},d[e].onmouseleave=function(){l[e].style="",l[e].style.transition="transform 500ms linear"},d[e].onmousemove=function(e){o()&&s(e)};let n=0;const o=function(){return n++%10==0},i={_x:0,_y:0,x:0,y:0,updatePosition:function(e){const t=e||window.event;this.x=t.clientX-this._x,this.y=-1*(t.clientY-this._y)},setOrigin:function(e){this._x=e.offsetLeft+Math.floor(e.offsetWidth/2),this._y=e.offsetTop+Math.floor(e.offsetHeight/2)},show:function(){return"("+this.x+", "+this.y+")"}};i.setOrigin(d[e]);const s=function(t){i.updatePosition(t),a((i.y/l[e].offsetHeight/2).toFixed(2),(i.x/l[e].offsetWidth/2).toFixed(2))},a=function(t,n){const o="rotateX("+t+"deg) rotateY("+n+"deg)";l[e].style.transform=o,l[e].style.mozTransform=o,l[e].style.msTransform=o,l[e].style.oTransform=o}}));const c=document.getElementById("modal"),m=document.getElementById("legal-btn"),u=document.getElementById("legal"),y=document.getElementById("privacy-btn"),h=document.getElementById("privacy"),w=document.getElementById("close");m.addEventListener("click",(()=>{c.style.display="block",u.style.display="block"})),y.addEventListener("click",(()=>{c.style.display="block",h.style.display="block"})),w.addEventListener("click",(()=>{c.style.display="none",h.style.display="none",u.style.display="none"}))};